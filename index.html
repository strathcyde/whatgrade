<!DOCTYPE html>
<html lang = en>
<head>
    <title>What grade must I get?</title>
    <link rel = "icon" href = "calc.jpg" type = "image/jpg">
    <link rel = "stylesheet" href="styles.css">

</head>
<body>
<div class="pagewrapper">
    <p class='mainheading'>What Grade Must I Get?</p>
    <p class='subheadingLight'>This website calculates what grade you must get in your final assessment to achieve a desired overall class grade.</p1>

    <form id="forminputs">
        <div class="main-layout">
            <div class="sidebar" id="Desire&GetContainer">
                <div class="vbox" id="iddesiredBox">
                    <p class='subheadingBoldSmall'>Desired Overall Grade</p>
                    <p class='subheadingBoldSmall'>In percent. e.g. '60'.</p>
                    <input type="text" name="desired" placeholder="60">
                </div>
                <div class="vbox" id="idresultBox">
                <p class='subheadingBoldSmall'>You must get:</p>
                <div class="unstyledDiv" id="idresult"></div>
                </div>
            </div>
            <div class="containerHORIZONTAL" id="InfoContainer">
                <div class="box" id="idmarksOfFinalBox">
                    <p class="inputbox">Weight of final assessment</p>
                    <input type="text" name="WeightFinal">
                    <p class='inputbox'>Marks abailable in final assessment, if known</p>
                    <input type="text" name="Marks">
                </div>
                <div class="box" id="idPartOne">
                    <p class='inputbox'>Grade in test 1, in %</p>
                    <input type="text" name="PartOne" placeholder="75">
                    <p class='inputbox'>Weight on course, in %</p>
                    <input type="text" name="WeightOne" placeholder="25">
                </div>
                <div class="box" id="idPartTwo">
                    <p class='inputbox'>Grade in test 2, in %</p>
                    <input type="text" name="PartTwo">
                    <p class='inputbox'>Weight on course, in %</p>
                    <input type="text" name="WeightTwo">
                </div>
                <div class="box" id="idPartThree">
                    <p class='inputbox'>Grade in test 3, in %</p>
                    <input type="text" name="PartThree">
                    <p class='inputbox'>Weight on course, in %</p>
                    <input type="text" name="WeightThree">
                </div>
                <div class="box" id="idPartFour">
                    <p class='inputbox'>Grade in test 4, in %</p>
                    <input type="text" name="PartFour">
                    <p class='inputbox'>Weight on course, in %</p>
                    <input type="text" name="WeightFour">
                </div>
            </div>
        </div>
    </form>
</div>



<script>
    const form = document.getElementById("forminputs");
    // const nameArray = ['desired','Marks','PartOne', 'PartTwo', 'PartThree', 'PartFour', 'WeightOne', 'WeightTwo', 'WeightThree', 'WeightFour'];
    function updateResult(){

        // const inputs = document.querySelectorAll("input"); // Select all input elements
        // inputs.forEach(input => {
        //     let value = input.value.replace(/[^0-9+\-*/.]/g, ''); // Remove invalid characters
        //     console.log(value); // Log the sanitized value (or you can use it for further calculation)
            
        // });
        
        
        const desired = (form.elements["desired"]).value.replace(/[^0-9+\-*/.]/g, '');
        const Marks = (form.elements["Marks"]).value.replace(/[^0-9+\-*/.]/g, '');

        const PartOne = (form.elements["PartOne"]).value.replace(/[^0-9+\-*/.]/g, '');
        const PartTwo = (form.elements["PartTwo"]).value.replace(/[^0-9+\-*/.]/g, '');
        const PartThree = (form.elements["PartThree"]).value.replace(/[^0-9+\-*/.]/g, '');
        const PartFour = (form.elements["PartFour"]).value.replace(/[^0-9+\-*/.]/g, '');

        const WeightOne = (form.elements["WeightOne"]).value.replace(/[^0-9+\-*/.]/g, '');
        const WeightTwo = (form.elements["WeightTwo"]).value.replace(/[^0-9+\-*/.]/g, '');
        const WeightThree = (form.elements["WeightThree"]).value.replace(/[^0-9+\-*/.]/g, '');
        const WeightFour = (form.elements["WeightFour"]).value.replace(/[^0-9+\-*/.]/g, '');
        const WeightFinal = (form.elements["WeightFinal"]).value.replace(/[^0-9+\-*/.]/g, '');
        
        const result = eval(((desired-((PartOne*WeightOne+PartTwo*WeightTwo+PartThree*WeightThree+PartFour*WeightFour)/100))/WeightFinal)*Marks)

        console.log("input event triggered")
        document.getElementById("idresult").innerText = result;


    }


    form.addEventListener("input", updateResult);

</script>
</body>